<?php
class EasyTestPagesTestCase extends DrupalWebTestCase {
  protected $modules;
  
  public static function getInfo() {
      return array(
      'name' => 'Easytest Page Status',
      'description' => "Ensures a certain list of pages returns 200 (HTTP OK) codes.",
      'group' => 'EasyTest',
    );
  }
  
  function setUp() {
    $this->modules = variable_get('implements_easytest_pages_list');
    parent::setUp($this->modules);
  }

  /**
   * Make sure the desired pages return a 200 response.
   */
  function testEasyTestPagesOk() {
    $urls = module_invoke_all('easytest_pages_list');
    foreach($urls as $page){
      $this->drupalGet($page);
      $this->assertResponse(200, "Make sure $page returns OK.";
    }
  }
}
