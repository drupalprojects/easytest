<?php
class EasyTestPagesTestCase extends DrupalWebTestCase {
  public static function getInfo() {
    return array(
      'name' => 'Easytest Page Status',
      'description' => "Ensures a certain list of pages returns 200 (HTTP OK) codes.",
      'group' => 'EasyTest',
    );
  }

  function setUp() {
    parent::setUp();
  }

  /**
   * Make sure the desired pages return a 200 response.
   */
  function testEasyTestPagesOk() {
    // @TODO: this is not working!!  not sure why.
    $urls = module_invoke_all('easytest_pages_list');
    $urls = array('node', 'user', 'testfail');

    foreach($urls as $page){
      $this->drupalGet($page);
      $this->assertResponse(200, "Make sure $page returns OK.");
    }
  }
}
